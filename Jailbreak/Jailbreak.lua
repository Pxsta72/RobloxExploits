local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()

local Window = Library.CreateLib("Exploits", "DarkTheme")

local PlayerTab = Window:NewTab("Player")

local VehicleTab = Window:NewTab("Vehicle")

local CombatTab = Window:NewTab("Combat")

local RobberyTab = Window:NewTab("Robberies")

local OtherTab = Window:NewTab("Other")


local MovementPlayerSection = PlayerTab:NewSection("Movement")

local InfiniteJumpEnabled

MovementPlayerSection:NewToggle("Infinite Jump", "", function(state)
    InfiniteJumpEnabled = state
end)

local Player = game:GetService("Players").LocalPlayer

game:GetService("UserInputService").InputBegan:connect(function(input)
    if input.KeyCode == Enum.KeyCode.Space then
        Humanoid = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if InfiniteJumpEnabled then
            Humanoid:ChangeState("Jumping")
            wait(0.1)
            Humanoid:ChangeState("Seated")
        end
     end
end)

local speedy = false

MovementPlayerSection:NewKeybind("Speed Toggle Button", "", Enum.KeyCode.LeftShift, function()
    speedy = not speedy
end)

local SpeedValue = 140

MovementPlayerSection:NewSlider("Speed Value", "16 - 140", 140, 16, function(s)
    SpeedValue = s
end)

local Player = game:service'Players'.LocalPlayer

game:GetService("UserInputService").InputEnded:connect(function(input)
    if speedy then
        getgenv().WalkSpeedValue = SpeedValue;
        Player.Character.Humanoid:GetPropertyChangedSignal'WalkSpeed':Connect(function()
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
        end)
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
    end

    if not speedy then
        getgenv().WalkSpeedValue = 16;
        Player.Character.Humanoid:GetPropertyChangedSignal'WalkSpeed':Connect(function()
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
        end)
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
    end
end)


local OtherPlayerSection = PlayerTab:NewSection("Other")

local UI = require(game:GetService("ReplicatedStorage").Module:WaitForChild("UI"));
local InstantE

OtherPlayerSection:NewToggle("No E Wait Time", "", function(state)
    InstantE = state
end)

OtherPlayerSection:NewToggle("Auto Keycard", "", function(state)
    if state then
        local plrUtils = game:GetService("ReplicatedStorage").Game.PlayerUtils
        local oldHasKey = require(plrUtils).hasKey
        require(plrUtils).hasKey = function() 
            return true
        end


        local Camera = workspace.CurrentCamera
        local Players = game:GetService("Players")
        local RunService = game:GetService("RunService")
        local UserInputService = game:GetService("UserInputService")
        local TweenService = game:GetService("TweenService")
        local LocalPlayer = Players.LocalPlayer
        local Holding = false
    end
end)

OtherPlayerSection:NewToggle("Anti Ragdoll & No Fall Damage", "", function(state)
    if state then
        for _,v in pairs(getgc(true)) do
            if typeof(v) == "table" then
                if rawget(v, 'Ragdoll') then 
                    v.Ragdoll = function(...) 
                    return wait(9e9) 
                    end 
                end
            end
        end
    end
end)

local MainVehicleSection = VehicleTab:NewSection("Main")

MainVehicleSection:NewToggle("Vehicle Speed", "", function(state)
    if state then
        dir = 0
        gs = game.GetService
        gs(game,"RunService").Heartbeat:connect(function()
        for i,v in next,workspace.Vehicles:children() do
            if v.Name ~= "Heli" then
                if v:FindFirstChild("Engine") then
                    local bf,cf = v.Engine:FindFirstChild("NewForce"),v:GetPrimaryPartCFrame().lookVector
                    if not bf then
                        bf = v.Engine:FindFirstChild("BodyForce") or v.Engine:FindFirstChild("VectorForce")
                        if bf then
                            bf = bf:Clone()
                            bf.Parent = v.Engine
                            bf.Name = "NewForce"
                        end
                    end
                    if bf then
                        local fa = 1
                        if v.Name:lower():find("bike") then fa = .3 elseif v.Name:lower():find("bugg") then fa = .5 end
                        if v.Seat.PlayerName.Value ~= game:GetService("Players").LocalPlayer.Name then fa = 0 end
                        bf.Force = Vector3.new(cf.X*300000*dir*fa,0,cf.Z*300000*dir*fa)
                    end
                end
            end
        end
        end)
        val = {
        {Enum.KeyCode.W,1};
        {Enum.KeyCode.S,-1};
        }
        uis = gs(game,"UserInputService")
        chk = function(k)
        for i,v in next,val do
            if v[1]==k.KeyCode then
                return v[2]
            end
        end
        end
        uis.InputBegan:connect(function(k)
        dir = chk(k) or dir
        end)
        uis.InputEnded:connect(function(k)
        if chk(k) == dir then
            dir = 0
        end
        end)
    else
    
    end
end)

local flying = false

MainVehicleSection:NewKeybind("Vehicle Fly Keybind", "KeybindInfo", Enum.KeyCode.LeftAlt, function()
	flying = not flying
    if flying then
        lplr.Character.Humanoid.CameraOffset = Vector3.new(2,0,0)
    else
        lplr.Character.Humanoid.CameraOffset = Vector3.new(0,0,0)
    end
end)

local VehicleFlySpeedValue = 300
local flyspeed = VehicleFlySpeedValue

MainVehicleSection:NewSlider("Vehicle Fly Speed", "50 - 350", 350, 50, function(s)
    VehicleFlySpeedValue = s
    flyspeed = VehicleFlySpeedValue
end)


local maxdistance = 100000000000000 --using math.huge makes this script wonky
local uiservice = game.UserInputService
local lplr = game.Players.LocalPlayer
local mouse = lplr:GetMouse()
local function GetVelocity(pos1,pos2,StudsPerSecond)
local distance = (pos2 - pos1)
local mag = distance.Magnitude
return (distance/mag)*StudsPerSecond
end
local function getkey(keycode)
local key = tostring(keycode):lower()
local findcode, a = key:find("keycode.")
return key:sub(a+1)
end
local keys = {}
game.RunService.Heartbeat:connect(function()
pcall(function()
local hrp
for i,v in pairs(workspace.Vehicles:GetChildren()) do
    if pcall(function() return v.Engine and v.Seat.PlayerName end) then
        if v.Seat.PlayerName.Value == lplr.Name then
            hrp = v.Engine
            break
       else
           hrp = nil
        end
    end
end
if not hrp then
flying = false
    lplr.Character.Humanoid.CameraOffset = Vector3.new(0,0,0)
end
    if flying then
    local cam = workspace.Camera
    end
local frontoffset = CFrame.new() + Vector3.new(0,0,-maxdistance)
local backoffset = CFrame.new() + Vector3.new(0,0,maxdistance)
local leftoffset = CFrame.new() + Vector3.new(-maxdistance,0,0)
local rightoffset = CFrame.new() + Vector3.new(maxdistance,0,0)
local velocity = Vector3.new()
    if flying then
    if keys.w_active then
        velocity = velocity + GetVelocity(hrp.Position,(hrp.CFrame*frontoffset).Position,flyspeed)
    end
    if keys.s_active then
        velocity = velocity + GetVelocity(hrp.Position,(hrp.CFrame*backoffset).Position,flyspeed)
    end
    if keys.a_active then
        velocity = velocity + GetVelocity(hrp.Position,(hrp.CFrame*leftoffset).Position,flyspeed)
    end
    if keys.d_active then
        velocity = velocity + GetVelocity(hrp.Position,(hrp.CFrame*rightoffset).Position,flyspeed)
    end
    hrp.Velocity = velocity
     hrp.CFrame = CFrame.new(hrp.Position, (workspace.Camera.CFrame*frontoffset).Position)
    end
    if flying and not keys.w_active and not keys.a_active and not keys.s_active and not keys.d_active then
        hrp.Velocity = Vector3.new(0,1.005,0)
    end
end)
end)
uiservice.InputBegan:connect(function(key,processed)
if processed then return end
    keys[getkey(key.KeyCode).."_active"] = true
end)
uiservice.InputEnded:connect(function(key)
    keys[getkey(key.KeyCode).."_active"] = false
end)


local MainCombatSection = CombatTab:NewSection("Main")

MainCombatSection:NewToggle("ESP", "", function(state)
    if state then
        loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/Pxsta72/RobloxExploits/main/Jailbreak/ESP/ESP.lua"))()

        local Esp = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/Pxsta72/RobloxExploits/main/Jailbreak/ESP/NameESP.lua"))()

        Esp.Box = false
        Esp.BoxColor = Color3.fromRGB(255,255,255)
        Esp.BoxOutline = false
        Esp.BoxOutlineColor = Color3.fromRGB(0,0,0)

        Esp.HealthBar = false
        Esp.HealthBarSide = "Left"

        Esp.Names = true
        Esp.NamesOutline = true
        Esp.NamesFont = 2
        Esp.NamesSize = 15
    else
        
    end
end)

MainCombatSection:NewToggle("Silent Aim & Wallbang", "", function(state)
    if state then
        getgenv().toggled = true

        getgenv().old = getgenv().old or require(game:GetService("ReplicatedStorage").Module.RayCast).RayIgnoreNonCollideWithIgnoreList

        if getgenv().toggled then
            require(game:GetService("ReplicatedStorage").Module.RayCast).RayIgnoreNonCollideWithIgnoreList = function(...)
                local nearestDistance, nearestEnemy = 600, nil
                for i,v in pairs(game:GetService("Players"):GetPlayers()) do
                    if v.Team ~= game:GetService("Players").LocalPlayer.Team and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                        if (v.Character.HumanoidRootPart.Position - game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < nearestDistance then
                            nearestDistance, nearestEnemy = (v.Character.HumanoidRootPart.Position - game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position).Magnitude, v
                        end
                    end
                end
                local arg = {old(...)}
                if (tostring(getfenv(2).script) == "BulletEmitter" or tostring(getfenv(2).script) == "Taser") and nearestEnemy then
                    arg[1] = nearestEnemy.Character.HumanoidRootPart
                    arg[2] = nearestEnemy.Character.HumanoidRootPart.Position
                end
                return unpack(arg)
            end
        else
            require(game:GetService("ReplicatedStorage").Module.RayCast).RayIgnoreNonCollideWithIgnoreList = getgenv().old
        end
    else
        
    end
end)

local BankRobberySection = RobberyTab:NewSection("Bank")

local ClearBank

BankRobberySection:NewToggle("Remove Lasers", "", function(state)
    ClearBank = state
end)

local JewelryClear

local floors

for k, v in pairs(game.Workspace.Jewelrys:GetDescendants()) do
    if v.Name == "Floors" then
        floors = v
    end
end

local JewelryRobberySection = RobberyTab:NewSection("Jewelry")

local ClearJewelry

JewelryRobberySection:NewToggle("Remove Lasers", "", function(state)
    ClearJewelry = state
end)

local CasinoRobberySection = RobberyTab:NewSection("Casino")

CasinoRobberySection:NewButton("Remove Lasers", "", function()
    for k, v in pairs(game.Workspace.Casino:GetDescendants()) do
        if v.Name == "Lasers" then
            v:Destroy()
        end
        if v.Name == "LaserCarousel" then
            v:Destroy()
        end
        if v.Name == "LasersMoving" then
            v:Destroy()
        end
        if v.Name == "CamerasMoving" then
            v:Destroy()
        end
    end
end)

local AutoComputerHack

CasinoRobberySection:NewToggle("Auto Computer Hack", "", function(state)
    AutoComputerHack = state
end)


local VaultLight = workspace.Casino.HackableVaults.VaultDoorMain.InnerModel.Model.UnlockedLED
local VaultSuccessLight = workspace.Casino.HackableVaults.VaultDoorMain.InnerModel.Model.StatusLED
local Vault = workspace.Casino.HackableVaults.VaultDoorMain.InnerModel.Model.Body

local HackingVault
local HackVault

CasinoRobberySection:NewToggle("Auto Hack Vault Door", "", function(state)
    HackVault = state
end)


local FindCode

CasinoRobberySection:NewToggle("Auto Find Code & Auto Enter Code", "", function(state)
    FindCode = state
end)

local CasinoCodeLabel = CasinoRobberySection:NewLabel("----")

local MuseumRobberySection = RobberyTab:NewSection("Museum")

local AutoMuseumPuzzles

MuseumRobberySection:NewToggle("Auto Puzzles", "", function(state)
    AutoMuseumPuzzles = state
end)

local RemoveMuseumLights

MuseumRobberySection:NewToggle("Remove Lights", "", function(state)
    RemoveMuseumLights = state
end)

local PowerPlantRobberySection = RobberyTab:NewSection("Power Plant")

local CenterPos = game.Workspace.PowerPlant.Core.Part.Position

PowerPlantRobberySection:NewButton("Remove Lasers", "", function()
    for k, v in pairs(game.Workspace.PowerPlant:GetDescendants()) do
        if v.Name == "Piston" then
            v:Destroy()
        end
    end

    for k, v in pairs(game.Workspace:GetDescendants()) do
        if v.Name == "BarbedWire" then
            if (v.Position - CenterPos).Magnitude <= 200 then

                v:Destroy()
            end
        end
    end
end)

local CratesRobberySection = RobberyTab:NewSection("Crates")

local CrateNearby

local CrateEsp

CratesRobberySection:NewToggle("crate ESP", "", function(state)
    CrateEsp = state
end)

local OtherRobberySection = RobberyTab:NewSection("Other")

OtherRobberySection:NewToggle("Remove Cell Doors", "", function(state)
    if state then
        for k, v in pairs(game.Workspace:GetDescendants()) do
            if v.Name == "Door" then
                if v.Parent.Name == "Cell" then
                    v:Destroy()
                end
            end
        end
    end
end)

OtherRobberySection:NewToggle("Remove Doors", "", function(state)
    if state then
        for k, v in pairs(game.Workspace:GetDescendants()) do
            if v.Name == "SwingDoor" then
                v:Destroy()
            end
        end
    end
end)


local code
local code1

codes = {}

local Text = {}

local DoorPos = game.Workspace.Casino.RobberyDoor.Door.InnerModel.TheDoor.Position
local MuseumDoorPos = game.Workspace.Museum.Doors.FrontDoorLeft.Closed.Position
local PlayerPos


local MainOtherSection = OtherTab:NewSection("Main")

MainOtherSection:NewKeybind("Toggle UI", "", Enum.KeyCode.LeftMeta, function()
	Library:ToggleUI()
end)

coroutine.wrap(function()
    while true do

        if FindCode then

            PlayerPos = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position

            for k, v in pairs(game.Workspace.Casino.RobberyDoor.Codes:GetChildren()) do
                codes[k] = v
            end

            for k, v in pairs(codes) do
                local CodeKids = codes[k]:GetChildren()

                for k, v in pairs(CodeKids) do
                    GUI = CodeKids[k]:GetChildren()[1]
                    Label = GUI:GetChildren()[1]
                    Text[k] = Label.Text
                end

                if Text[1] ~= "" then
                    code = Text[1]..Text[2]..Text[3]..Text[4]
                    code1 = Text[4]..Text[3]..Text[2]..Text[1]
                end
            end
        end

        if code ~= nil then
            CasinoCodeLabel:UpdateLabel(code.." or "..code1)
        end

        if ClearJewelry then
            for k, v in pairs(game.Workspace.Jewelrys:GetDescendants()) do
                if v.Name == "TopDoor" then
                    v:Destroy()
                end
                if v.Name == "Lasers" then
                    v:Destroy()
                end
                if v.Name == "BarbedWire" then
                    v:Destroy()
                end
                if v.Name == "Cameras" then
                    v:Destroy()
                end
                if v.Name == "LaserFloor" then
                    v:Destroy()
                end
            end
            local floor = floors:GetChildren()[1]

            for k, v in pairs(floor:GetChildren()) do
                if v.Name == "Part" then
                    v:Destroy()
                end
            end
        end

        if ClearBank then
            for k, v in pairs(game.Workspace.Banks:GetDescendants()) do
                if v.Name == "FrontDoor" then
                    v:Destroy()
                end
                if v.Name == "InsideDoor" then
                    v:Destroy()
                end
                if v.Name == "SideDoor" then
                    v:Destroy()
                end
                if v.Name == "Lasers" then
                    v:Destroy()
                end
            end
        end

        if RemoveMuseumLights then
            for k, v in pairs(game.Workspace.Museum:GetChildren()) do
                if v.Name == "Lights" then
                    v:Destroy()
                end
            end
        end

        if CrateEsp then
            for k, v in pairs(game.Workspace:GetChildren()) do
                if v.Name == "Drop" then
                    if not v:FindFirstChild("Highlight") then
                        local highlightClone = highlight:Clone()
                        highlightClone.Adornee = v
                        highlightClone.Parent = v
                        highlightClone.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        highlightClone.Name = "Highlight"
                        highlightClone.FillColor = Color3.fromRGB(107, 50, 124)
                    end
                end
            end
        end

        PlayerPos = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position

        for k, v in pairs(game.Workspace:GetChildren()) do
            if v.Name == "Drop" then
                if (v.Position - PlayerPos).Magnitude <= 50 then
                    CrateNearby = true
                else
                    CrateNearby = false
                end
            end
        end

        if InstantE and not CrateNearby then
            for i,v in pairs (UI.CircleAction.Specs) do
                v.Duration = 0;
                v.Timed = true;
            end
        else
            for i,v in pairs (UI.CircleAction.Specs) do
                v.Duration = 1;
                v.Timed = true;
            end
        end

        wait(0.5)
    end
end)()

coroutine.wrap(function()
    while true do
        PlayerPos = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position

        if (Vault.Position - PlayerPos).Magnitude <= 50 then
            if HackVault then
                if not HackingVault then

                    workspace.Casino.HackableVaults.VaultDoorMain.InnerModel.Puzzle.RequestHack:FireServer()
                    HackingVault = true
                end
                if HackingVault then

                    if (VaultLight.BrickColor == BrickColor.new("Lime green")) then

                        workspace.Casino.HackableVaults.VaultDoorMain.InnerModel.Puzzle.UpdateDirection:FireServer()
                    end
                    

                end
            end
        else
            HackingVault = false
        end


        if AutoMuseumPuzzles then

            if (MuseumDoorPos - PlayerPos).Magnitude <= 150 then

                for k, v in pairs(game.Workspace.Museum.Puzzle1.Spinners:GetChildren()) do
                    if v.Rotation ~= Vector3.new(0,52,0) then
                        fireclickdetector(v:GetChildren()[1])
                    end
                end

                for k, v in pairs(game.Workspace.Museum.Puzzle2.Pieces:GetChildren()) do
                    if v.name == "2" then
                        if v.Rotation ~= Vector3.new(0,-38,180) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "3" then
                        if v.Rotation ~= Vector3.new(0,-38,0) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "10" then
                        if v.Rotation ~= Vector3.new(0,-38,180) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "11" then
                        if v.Rotation ~= Vector3.new(0,-38,180) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "12" then
                        if v.Rotation ~= Vector3.new(0,-38,0) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "13" then
                        if v.Rotation ~= Vector3.new(0,-38,90) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "14" then
                        if v.Rotation ~= Vector3.new(0,-38,0) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "19" then
                        if v.Rotation ~= Vector3.new(0,-38,180) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                    if v.name == "20" then
                        if v.Rotation ~= Vector3.new(0,-38,-90) then
                            fireclickdetector(v:FindFirstChild("ClickDetector"))
                        end
                    end
                end
            end
        end

        PlayerPos = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position

        if FindCode then
            if (DoorPos - PlayerPos).Magnitude <= 30 then
                
                if code ~= nil then
                    local args = {
                        [1] = code
                    }

                    workspace.Casino.RobberyDoor.Keypad.Pad.CasinoKeypadSubmit:FireServer(unpack(args))
                end
                if code1 ~= nil then
                    local args = {
                        [1] = code1
                    }

                    workspace.Casino.RobberyDoor.Keypad.Pad.CasinoKeypadSubmit:FireServer(unpack(args))
                end
            end
        end

        if AutoComputerHack then
            for k, v in pairs(game.Workspace.Casino.Computers:GetChildren()) do

                PlayerPos = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position

                if v.Display.BrickColor ~= BrickColor.new("Institutional white") and v.Display.BrickColor ~= BrickColor.new("Lime green") then
                    if (v.Display.Position - PlayerPos).Magnitude <= 20 then
                        v.CasinoComputerHack:FireServer()
                    end
                end
            end
        end

        wait(0.1)
    end
end)()
