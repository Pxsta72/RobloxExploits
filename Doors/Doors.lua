local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()

local Window = Library.CreateLib("Exploits", "DarkTheme")

local PlayerTab = Window:NewTab("Player")

local ESPTab = Window:NewTab("ESP")

local OtherTab = Window:NewTab("Other")


local MainPlayerSection = PlayerTab:NewSection("Main")

local SpeedValue = 140

MainPlayerSection:NewSlider("Speed Value", "16 - 22", 22, 16, function(s)
    SpeedValue = s
end)

local speedy = false

MainPlayerSection:NewKeybind("Speed Toggle Button", "", Enum.KeyCode.LeftAlt, function()
    speedy = not speedy
end)

local Player = game:service'Players'.LocalPlayer

game:GetService("UserInputService").InputEnded:connect(function(input)
    if speedy then
        getgenv().WalkSpeedValue = SpeedValue;
        Player.Character.Humanoid:GetPropertyChangedSignal'WalkSpeed':Connect(function()
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
        end)
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
    end

    if not speedy then
        getgenv().WalkSpeedValue = 16;
        Player.Character.Humanoid:GetPropertyChangedSignal'WalkSpeed':Connect(function()
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
        end)
        Player.Character.Humanoid.WalkSpeed = getgenv().WalkSpeedValue;
    end
end)

local MainESPSection = ESPTab:NewSection("Main")

local DoorESP
local KeyESP
local GoldESP
local LighterESP

MainESPSection:NewToggle("Door ESP", "", function(state)
    DoorESP = state
end)

MainESPSection:NewToggle("Key ESP", "", function(state)
    KeyESP = state
end)

MainESPSection:NewToggle("Gold ESP", "", function(state)
    GoldESP = state
end)

MainESPSection:NewToggle("Lighter ESP", "", function(state)
    LighterESP = state
end)

local objects = game.Workspace.CurrentRooms:GetDescendants()
local highlight = Instance.new("Highlight")
highlight.Name = "Highlight"

coroutine.wrap(function()
    while true do

        local objects = game.Workspace.CurrentRooms:GetDescendants()

        for i, v in pairs(objects) do

            if DoorESP then
                if v.Name == "Door" then
                    if not v:FindFirstChild("Highlight") then
                        local highlightClone = highlight:Clone()
                        highlightClone.Adornee = v
                        highlightClone.Parent = v
                        highlightClone.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        highlightClone.Name = "Highlight"
                    end
                end

                if v.Name == "Hidden" then
                    v:Destroy()
                end
                
            end

            if KeyESP then
                if v.Name == "KeyObtain" then
                    if not v:FindFirstChild("Highlight") then
                        local highlightClone = highlight:Clone()
                        highlightClone.Adornee = v
                        highlightClone.Parent = v
                        highlightClone.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        highlightClone.Name = "Highlight"
                    end
                end
            end

            if GoldESP then
                if v.Name == "GoldPile" then
                    if not v:FindFirstChild("Highlight") then
                        local highlightClone = highlight:Clone()
                        highlightClone.Adornee = v
                        highlightClone.Parent = v
                        highlightClone.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        highlightClone.Name = "Highlight"
                    end
                end
            end

            if LighterESP then
                if v.Name == "Lighter" then
                    if v.Parent.Name ~= "Bookcase" then
                        if not v:FindFirstChild("Highlight") then
                            local highlightClone = highlight:Clone()
                            highlightClone.Adornee = v
                            highlightClone.Parent = v
                            highlightClone.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                            highlightClone.Name = "Highlight"
                        end
                    end
                end
            end
        end
        wait(0.5)
    end
end)()

local MainOtherSection = OtherTab:NewSection("Main")

local FullBright

local Light = game:GetService("Lighting")

function dofullbright()
    Light.Ambient = Color3.new(1, 1, 1)
    Light.ColorShift_Bottom = Color3.new(1, 1, 1)
    Light.ColorShift_Top = Color3.new(1, 1, 1)
end

MainOtherSection:NewToggle("Full Bright", "", function(state)
    FullBright = state
end)

coroutine.wrap(function()
    while true do
        if FullBright then
            dofullbright()
        end
        wait(0.5)
    end
end)()

local RemoveGate

MainOtherSection:NewToggle("Remove Gate", "", function(state)
    RemoveGate = state
end)


coroutine.wrap(function()
    while true do
        local objects = game.Workspace.CurrentRooms:GetDescendants()

        if RemoveGate then
            for k, v in pairs(objects) do
                if v.Name == "GateWall" then
                    v.Parent = game.Workspace
                end
                if v.Name == "Gate" then
                    v:Destroy()
                end
            end
        end
        wait(0.5)
    end
end)()

MainOtherSection:NewKeybind("Toggle UI", "", Enum.KeyCode.LeftMeta, function()
	Library:ToggleUI()
end)
